webpackJsonp([1],{"746e":function(e,t){},GGDf:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("7+uW"),n=a("zL8q"),s=a.n(n),o=(a("tvR6"),a("NYxO"));r.default.use(o.a);var l=new o.a.Store({state:{accessToken:"",refreshToken:""},mutations:{setToken:function(e,t){e.accessToken=t.accessToken,e.refreshToken=t.refreshToken,localStorage.setItem("accessToken",t.accessToken),localStorage.setItem("refreshToken",t.refreshToken)},removeToken:function(e){e.accessToken="",e.refreshToken="",localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")}},actions:{},getters:{getRefreshToken:function(e){return e.getRefreshToken}}}),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var c=a("VU/8")({name:"App"},i,!1,function(e){a("mbp1")},null,null).exports,u=a("/ocq"),d=a("Xxa5"),p=a.n(d),f=a("exGp"),v=a.n(f),m=a("mvHQ"),h=a.n(m),g=a("//Fk"),b=a.n(g),_=a("mtWM"),x=this,y="http://8.137.88.207:8082/api/v1",w=_.a.create({baseURL:y,timeout:1e4});w.interceptors.request.use(function(e){var t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization=t),e},function(e){b.a.reject(e)});var k,I=[];function S(e,t){return new b.a(function(a,r){w.get(e,{params:t}).then(function(e){a(e.data)}).catch(function(e){r(e.data)})})}function T(e,t){return new b.a(function(a,r){w.post(e,t).then(function(e){a(e.data)}).catch(function(e){r(e.data)})})}function O(e,t){return new b.a(function(a,r){var n=t.join("/"),s=e+"/"+n;w.get(s,{}).then(function(e){a(e.data)}).catch(function(e){r(e.data)})})}w.interceptors.response.use((k=v()(p.a.mark(function e(t){var a,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.config,200!==t.data.code){e.next=5;break}return e.abrupt("return",t);case 5:if(400!==t.data.code){e.next=22;break}return e.next=8,Object(_.a)({url:y+"/ua/token/refresh",method:"post",data:{refreshToken:localStorage.getItem("refreshToken")}});case 8:if(200!=(r=e.sent).data.code){e.next=18;break}return localStorage.setItem("accessToken",r.data.data.accessToken),localStorage.setItem("refreshToken",r.data.data.refreshToken),a.headers.Authorization=r.data.data.accessToken,I.forEach(function(e){return e()}),I=[],e.abrupt("return",Object(_.a)(a));case 18:Object(n.Message)({message:"请重新登录",type:"error",duration:2e3}),ve.replace({name:"login"});case 20:e.next=23;break;case 22:return e.abrupt("return",Object(n.Message)({message:t.data.msg,type:"error",duration:2e3}));case 23:case"end":return e.stop()}},e,x)})),function(e){return k.apply(this,arguments)}),function(e){if(e.response)switch(e.response.status){case 401:localStorage.clear(),ve.replace({name:"login"});break;case 500:Object(n.Message)({message:e.response.data.msg,type:"error"});break;default:e.message="连接错误"+e.response.status}else h()(e).includes("timeout")&&n.Message.error("服务器响应超时，请刷新当前页"),e.message("连接服务器失败");return n.Message.error(e.message),b.a.resolve(e.response)});var C=function(e){return T("/ua/phone/login",e)},M=function(){return e="/log-out",new b.a(function(a,r){w.delete(e,{params:t}).then(function(e){a(e.data)}).catch(function(e){r(e.data)})});var e,t},z=function(e){return O("/product/heat-sales",e)},j=function(e){return T("/product-record",e)},R=function(e){return T("/order",e)},U=function(e){return t="/order",a=e,new b.a(function(e,r){w.put(t,a).then(function(t){e(t.data)}).catch(function(e){r(e.data)})});var t,a},$=function(e){return t="/token",a=e,new b.a(function(e,r){var n=a.join("/"),s=t+"/"+n;w.put(s,{}).then(function(t){e(t.data)}).catch(function(e){r(e.data)})});var t,a},A=function(){return S("/we-chat/home/category")},H=function(e){return T("/we-chat/home/category",e)},F=function(e,t){return a="/users",r=e,n=t,new b.a(function(e,t){w.post(a+"/"+r,n).then(function(t){e(t.data)}).catch(function(e){t(e.data)})});var a,r,n},P={name:"Login",data:function(){return{account:"",password:"",phone:"",code:"",loginType:!1,codeText:"获取验证码"}},methods:{getPhoneCode:function(){var e=this;return v()(p.a.mark(function t(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(n.Message)({message:"暂不开放，谢谢",type:"warning",duration:2e3}));case 1:case"end":return e.stop()}},t,e)}))()},login:function(){var e=this;return v()(p.a.mark(function t(){var a,r,s,o;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=void 0,!e.loginType){t.next=14;break}if(""!=e.account&&""!=e.password){t.next=4;break}return t.abrupt("return",Object(n.Message)({message:"请输入账号或密码",type:"warning",duration:2e3}));case 4:return(r={}).account=e.account,r.password=e.password,t.next=9,T("/ua/web/login",r);case 9:if(200===(a=t.sent).code){t.next=12;break}return t.abrupt("return");case 12:t.next=25;break;case 14:if(""!=e.code){t.next=16;break}return t.abrupt("return",Object(n.Message)({message:"请输入验证码",type:"warning",duration:2e3}));case 16:return(s={}).phone=e.phone,s.code=e.code,s.sysType=!1,t.next=22,C(s);case 22:if(200===(o=t.sent).code){t.next=25;break}return t.abrupt("return",Object(n.Message)({message:o.msg,type:"error",duration:2e3}));case 25:l.commit("setToken",a.data),localStorage.setItem("accessToken",a.data.accessToken),localStorage.setItem("refreshToken",a.data.refreshToken),e.$router.push({name:"home"});case 29:case"end":return t.stop()}},t,e)}))()}}},E={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("div",[a("h3",{staticClass:"title"},[e._v("家具店铺管理平台")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.loginType,expression:"loginType"}],staticClass:"account"},[a("el-input",{attrs:{placeholder:"请输入账号","prefix-icon":"el-icon-user-solid",clearable:""},model:{value:e.account,callback:function(t){e.account=t},expression:"account"}}),e._v(" "),a("el-input",{attrs:{placeholder:"请输入密码","prefix-icon":"el-icon-lock","show-password":"",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login()}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.loginType,expression:"loginType == false"}],staticClass:"phone"},[a("el-row",{attrs:{gutter:5}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{placeholder:"请输入手机号","prefix-icon":"el-icon-user-solid",clearable:""},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),e._v(" "),a("el-col",{attrs:{span:17}},[a("el-input",{attrs:{placeholder:"请输入验证码","prefix-icon":"el-icon-mobile",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login()}},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}})],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-button",{attrs:{type:"warning",plain:""},on:{click:function(t){return e.getPhoneCode()}}},[e._v(e._s(e.codeText))])],1)],1)],1),e._v(" "),a("a",{attrs:{href:"#"},on:{click:function(t){e.loginType=!e.loginType}}},[e._v(e._s(e.loginType?"使用手机号登录":"使用账号登录"))]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.login()}}},[e._v("登录")])],1),e._v(" "),a("span",[e._v("Design and Implementation of a Furniture Store System Based on WeChat Mini Program.")])])},staticRenderFns:[]};var B=a("VU/8")(P,E,!1,function(e){a("irb8")},"data-v-5a0af8f4",null).exports,D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"menu"},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1-4-1","unique-opened":!0,router:!0}},[a("el-menu-item",{attrs:{index:"/home/home-page"}},[a("i",{staticClass:"el-icon-s-data"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("首页")])]),e._v(" "),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-s-shop"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("产品管理")])]),e._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/home/add-product"}},[e._v("新增/修改")]),e._v(" "),a("el-menu-item",{attrs:{index:"/home/product-info"}},[e._v("查询信息")])],1)],2),e._v(" "),a("el-menu-item",{attrs:{index:"/home/order"}},[a("i",{staticClass:"el-icon-s-goods"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("订单管理")])]),e._v(" "),a("el-menu-item",{attrs:{index:"/home/rule-data"}},[a("i",{staticClass:"el-icon-s-tools"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("规则管理")])]),e._v(" "),a("el-menu-item",{attrs:{index:"/home/user"}},[a("i",{staticClass:"el-icon-s-custom"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("用户管理")])])],1)],1)},staticRenderFns:[]};var V={name:"Head",data:function(){return{username:"admin"}},methods:{logout:function(){var e=this;return v()(p.a.mark(function t(){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M();case 2:if(200===t.sent.code){t.next=5;break}return t.abrupt("return");case 5:localStorage.clear(),console.log(localStorage.getItem("accessToken")),Object(n.Message)({message:"退出成功",type:"success",duration:2e3}),e.$router.push({name:"login"});case 9:case"end":return t.stop()}},t,e)}))()}}},W={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"head"},[e._m(0),e._v(" "),a("div",[a("el-dropdown",{attrs:{placement:"top"},on:{command:e.logout}},[a("span",{staticClass:"el-dropdown-link"},[e._v(e._s(e.username))]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"a"}},[e._v("退出登录")])],1)],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("i",{staticClass:"el-icon-eleme",staticStyle:{"font-size":"25px","margin-top":"2.6%"}}),this._v(" "),t("h3",[this._v(" 家具店铺管理平台")])])}]};var q={name:"Home",components:{Menu:a("VU/8")({name:"Menu"},D,!1,function(e){a("zss9")},"data-v-10ecdc45",null).exports,Head:a("VU/8")(V,W,!1,function(e){a("Ren6")},"data-v-4aeb6b0c",null).exports}},Q={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"home"},[t("el-containers",[t("el-header",[t("Head")],1),this._v(" "),t("el-container",[t("el-aside",{attrs:{width:"201px"}},[t("Menu")],1),this._v(" "),t("el-container",[t("el-main",[t("router-view")],1)],1)],1)],1)],1)},staticRenderFns:[]};var L=a("VU/8")(q,Q,!1,function(e){a("Wtd/")},"data-v-5310c7b0",null).exports,N=a("XLwt"),G={name:"HomePage",data:function(){return{orderInfo:{},productHeat:{},productSale:{},shopSale:[],chartHeat:null,chartProductSale:null,switchHeatOrSales:!1}},mounted:function(){var e=this;return v()(p.a.mark(function t(){var a,r,n,s;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S("/order/state");case 2:return 200==(a=t.sent).code&&(e.orderInfo=a.data),t.next=6,z(["heat"]);case 6:return 200==(r=t.sent).code&&(e.productHeat=r.data,e.echartsHeat()),t.next=10,z(["sold"]);case 10:return 200==(n=t.sent).code&&(e.productSale=n.data,e.echartsProductSale()),t.next=14,S("/shop-sales");case 14:200==(s=t.sent).code&&(e.shopSale=s.data,e.echartsSale());case 16:case"end":return t.stop()}},t,e)}))()},methods:{echartsHeat:function(){var e=this.$refs.echartsHeat;this.chartHeat=N.a(e);var t={title:{text:"产品热度榜"},tooltip:{},legend:{data:["热度"]},xAxis:{axisLabel:{interval:0,rotate:20},data:this.productHeat.name},yAxis:{},series:[{name:"热度",type:"bar",data:this.productHeat.value}]};this.chartHeat.setOption(t)},echartsProductSale:function(){var e=this.$refs.echartsProductSale;this.chartProductSale=N.a(e);var t={title:{text:"产品销量榜"},tooltip:{},legend:{data:["销量"]},xAxis:{axisLabel:{interval:0,rotate:20},data:this.productSale.name},yAxis:{},series:[{name:"销量",type:"bar",data:this.productSale.value}]};this.chartProductSale.setOption(t)},echartsSale:function(){var e=this;this.$nextTick(function(){var t=N.a(e.$refs.echartsSale),a={title:{text:"店铺销量图"},tooltip:{},legend:{data:["销量"]},xAxis:{splitNumber:4,axisLine:{width:90,symbol:["none","arrow"]},axisLabel:{interval:"0",margin:10,formatter:"{value}月",width:10,overflow:"break"},axisTick:{interval:"0",alignWithLabel:!0,inside:!0,length:6,lineStyle:{type:"dashed"}},data:e.shopSale.map(function(e){return e.name}),type:"category",name:"时间",nameLocation:"middle",nameTextStyle:{padding:40}},yAxis:{type:"value"},series:[{smooth:!1,name:"销量",color:["#dd6b66"],type:"line",data:e.shopSale.map(function(e){return e.value})}]};t.setOption(a)})}},beforeDestroy:function(){this.chartHeat&&(this.chartHeat.dispose(),this.chartHeat=null)}},X={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"homePage"},[a("div",{staticClass:"headData"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",[a("el-statistic",{attrs:{title:"已下单"}},[a("template",{slot:"formatter"},[a("span",[e._v(e._s(null==e.orderInfo.ordered?0:e.orderInfo.ordered))]),e._v("/"+e._s(e.orderInfo.total)+"\n            ")])],2)],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("el-statistic",{attrs:{title:"已确认"}},[a("template",{slot:"formatter"},[a("span",[e._v(e._s(null==e.orderInfo.determined?0:e.orderInfo.determined))]),e._v("/"+e._s(e.orderInfo.total)+"\n            ")])],2)],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("el-statistic",{attrs:{title:"待完成"}},[a("template",{slot:"formatter"},[a("span",[e._v(e._s(null==e.orderInfo.completed?0:e.orderInfo.completed))]),e._v("/"+e._s(e.orderInfo.total)+"\n            ")])],2)],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("el-statistic",{attrs:{title:"待售后"}},[a("template",{slot:"formatter"},[a("span",[e._v(e._s(null==e.orderInfo.afterSales?0:e.orderInfo.afterSales))]),e._v("/"+e._s(e.orderInfo.total)+"\n            ")])],2)],1)])],1)],1),e._v(" "),a("div",{staticClass:"chart"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.switchHeatOrSales,expression:"switchHeatOrSales == false"}],ref:"echartsHeat",staticStyle:{width:"630px",height:"430px"}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.switchHeatOrSales,expression:"switchHeatOrSales"}],ref:"echartsProductSale",staticStyle:{width:"630px",height:"430px"}}),e._v(" "),a("el-row",[a("el-col",{attrs:{span:17}},[e._v(" ")]),e._v(" "),a("el-col",{staticStyle:{display:"flex"},attrs:{span:7}},[a("span",{staticStyle:{"font-size":"12px","line-height":"20px"}},[e._v(e._s(this.switchHeatOrSales?"切换产品热度榜":"切换产品销量榜"))]),e._v("  \n              "),a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.switchHeatOrSales,callback:function(t){e.switchHeatOrSales=t},expression:"switchHeatOrSales"}})],1)],1)],1)]),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",[a("div",{ref:"echartsSale",staticClass:"echarts"})])])],1)],1),e._v(" "),a("span",{staticStyle:{position:"fixed",bottom:"2%","margin-left":"18%",color:"#43b597","font-family":"Arial","font-size":"12px","letter-spacing":"2px"}},[e._v("Design and Implementation of a Furniture Store System Based on WeChat Mini Program.")])])},staticRenderFns:[]};var J=a("VU/8")(G,X,!1,function(e){a("746e")},"data-v-46e03e56",null).exports,Y=a("BO1k"),K=a.n(Y),Z={name:"AddProduct",data:function(){return{productId:"",imageSize:-1,product:{name:"",introduce:"",identifier:"",producer:"",materialQuality:"",filler:"",style:"",category:"",space:"",price:"",inventory:"",size:"",colour:"",materialType:"",images:[],carouselImages:[],physicalImages:[],detailsImages:[]},materialQualityRes:[{value:"实木框架"},{value:"松木"},{value:"白蜡木"},{value:"岩板"},{value:"其他"}],styleRes:[{value:"轻奢主义"},{value:"现代极简"},{value:"自然北欧"},{value:"现代中式"},{value:"精品实木"},{value:"经典美式"},{value:"奢华欧法"},{value:"软装配饰"},{value:"佗寂风/中古风"},{value:"轻奢风"}],categoryRes:[{value:"沙发"},{value:"茶几"},{value:"电视柜"},{value:"鞋柜"},{value:"餐椅"},{value:"餐边柜"},{value:"床"},{value:"床头柜"},{value:"床垫"},{value:"餐桌"},{value:"休闲椅"}],spaceRes:[{value:"客厅"},{value:"餐厅"},{value:"卧室"},{value:"书房"},{value:"饰品"},{value:"厨房"},{value:"阳台"}],fillerRes:[{value:"海绵"},{value:"海绵+羽绒"},{value:"高密度海绵"},{value:"其他"}]}},mounted:function(){var e=this;return v()(p.a.mark(function t(){var a;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.productId=e.$route.query.id,void 0===e.productId){t.next=14;break}return t.next=4,O("/product",[e.productId]);case 4:if(200==(a=t.sent).code){t.next=8;break}return e.productId="",t.abrupt("return",Object(n.Message)({message:a.message,type:"error",duration:2e3}));case 8:e.product=a.data,e.product.images=[],e.product.carouselImages=[],e.product.physicalImages=[],e.product.detailsImages=[],e.imageSize=e.product.size.split(" ").length;case 14:case"end":return t.stop()}},t,e)}))()},methods:{saveProduct:function(){var e=this;return v()(p.a.mark(function t(){var a,r,s,o,l,i,c,u,d,f,v,m,h,g,b,_,x,y,w,k,I,S,O,C,M;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""==e.productId){t.next=4;break}if(e.imageSize==e.product.size.split(" ").length){t.next=4;break}if(e.product.images.length==e.product.size.split(" ").length){t.next=4;break}return t.abrupt("return",Object(n.Message)({message:"修改尺寸后选购图片数量需一致 请重新选择图片",type:"error",duration:3e3}));case 4:for(a=new FormData,r=!0,s=!1,o=void 0,t.prev=8,l=K()(e.product.images);!(r=(i=l.next()).done);r=!0)(c=i.value)&&a.append("images",c);t.next=16;break;case 12:t.prev=12,t.t0=t.catch(8),s=!0,o=t.t0;case 16:t.prev=16,t.prev=17,!r&&l.return&&l.return();case 19:if(t.prev=19,!s){t.next=22;break}throw o;case 22:return t.finish(19);case 23:return t.finish(16);case 24:for(u=!0,d=!1,f=void 0,t.prev=27,v=K()(e.product.carouselImages);!(u=(m=v.next()).done);u=!0)(h=m.value)&&a.append("carouselImages",h);t.next=35;break;case 31:t.prev=31,t.t1=t.catch(27),d=!0,f=t.t1;case 35:t.prev=35,t.prev=36,!u&&v.return&&v.return();case 38:if(t.prev=38,!d){t.next=41;break}throw f;case 41:return t.finish(38);case 42:return t.finish(35);case 43:for(g=!0,b=!1,_=void 0,t.prev=46,x=K()(e.product.physicalImages);!(g=(y=x.next()).done);g=!0)(w=y.value)&&a.append("physicalImages",w);t.next=54;break;case 50:t.prev=50,t.t2=t.catch(46),b=!0,_=t.t2;case 54:t.prev=54,t.prev=55,!g&&x.return&&x.return();case 57:if(t.prev=57,!b){t.next=60;break}throw _;case 60:return t.finish(57);case 61:return t.finish(54);case 62:for(k=!0,I=!1,S=void 0,t.prev=65,O=K()(e.product.detailsImages);!(k=(C=O.next()).done);k=!0)(M=C.value)&&a.append("detailsImages",M);t.next=73;break;case 69:t.prev=69,t.t3=t.catch(65),I=!0,S=t.t3;case 73:t.prev=73,t.prev=74,!k&&O.return&&O.return();case 76:if(t.prev=76,!I){t.next=79;break}throw S;case 79:return t.finish(76);case 80:return t.finish(73);case 81:return a.append("productId",e.productId),a.append("name",e.product.name),a.append("introduce",e.product.introduce),a.append("identifier",e.product.identifier),a.append("producer",e.product.producer),a.append("materialQuality",e.product.materialQuality),a.append("filler",e.product.filler),a.append("style",e.product.style),a.append("category",e.product.category),a.append("space",e.product.space),a.append("price",e.product.price),a.append("inventory",e.product.inventory),a.append("size",e.product.size),a.append("colour",e.product.colour),a.append("materialType",e.product.materialType),a.append("opt",void 0===e.productId),t.next=99,T("/product",a);case 99:if(200!=t.sent.code){t.next=105;break}if(e.product={name:"",introduce:"",identifier:"",producer:"",materialQuality:"",filler:"",style:"",category:"",space:"",price:"",inventory:"",size:"",colour:"",materialType:"",images:[],carouselImages:[],physicalImages:[],detailsImages:[]},Object(n.Message)({message:"上传成功",type:"success",duration:2e3}),""==e.productId){t.next=105;break}return t.abrupt("return",e.$router.push({name:"product-info"}));case 105:case"end":return t.stop()}},t,e,[[8,12,16,24],[17,,19,23],[27,31,35,43],[36,,38,42],[46,50,54,62],[55,,57,61],[65,69,73,81],[74,,76,80]])}))()},imageChange:function(e,t){var a=this;this.product.images=[],t.forEach(function(e){a.product.images.push(e.raw)})},carouselImagesChange:function(e,t){var a=this;this.product.carouselImages=[],t.forEach(function(e){a.product.carouselImages.push(e.raw)})},physicalImagesChange:function(e,t){var a=this;this.product.physicalImages=[],t.forEach(function(e){a.product.physicalImages.push(e.raw)})},detailsImagesChange:function(e,t){var a=this;this.product.detailsImages=[],t.forEach(function(e){a.product.detailsImages.push(e.raw)})},openMessage:function(e){this.$message({type:"warning",showClose:!0,duration:1e4,message:e})},materialQualitySearch:function(e,t){var a=this.materialQualityRes;t(e?a.filter(this.createFilter(e)):a)},styleSearch:function(e,t){var a=this.styleRes;t(e?a.filter(this.createFilter(e)):a)},categorySearch:function(e,t){var a=this.categoryRes;t(e?a.filter(this.createFilter(e)):a)},spaceSearch:function(e,t){var a=this.spaceRes;t(e?a.filter(this.createFilter(e)):a)},fillerSearch:function(e,t){var a=this.fillerRes;t(e?a.filter(this.createFilter(e)):a)},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}}}},ee={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"addProduct"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("h4",[e._v("新增/修改产品信息")])]),e._v(" "),a("el-col",{staticStyle:{"text-align":"right","padding-right":"3%"},attrs:{span:12}},[a("el-button",{staticStyle:{width:"20%"},attrs:{type:"success"},on:{click:function(t){return e.saveProduct()}}},[e._v("提交")])],1)],1),e._v(" "),a("div",{staticClass:"info"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[a("span",[e._v("名称")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入产品名称"},model:{value:e.product.name,callback:function(t){e.$set(e.product,"name",t)},expression:"product.name"}})],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("span",[e._v("编号")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入产品编号"},model:{value:e.product.identifier,callback:function(t){e.$set(e.product,"identifier",t)},expression:"product.identifier"}})],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("span",[e._v("产地")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入产品产地"},model:{value:e.product.producer,callback:function(t){e.$set(e.product,"producer",t)},expression:"product.producer"}})],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("span",[e._v("材质")]),e._v(" "),a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.materialQualitySearch,placeholder:"请选择产品材质"},model:{value:e.product.materialQuality,callback:function(t){e.$set(e.product,"materialQuality",t)},expression:"product.materialQuality"}})],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("span",[e._v("风格")]),e._v(" "),a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.styleSearch,placeholder:"请选择产品风格"},model:{value:e.product.style,callback:function(t){e.$set(e.product,"style",t)},expression:"product.style"}})],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("span",[e._v("品类")]),e._v(" "),a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.categorySearch,placeholder:"请选择产品品类"},model:{value:e.product.category,callback:function(t){e.$set(e.product,"category",t)},expression:"product.category"}})],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("span",[e._v("空间")]),e._v(" "),a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.spaceSearch,placeholder:"请选择产品空间"},model:{value:e.product.space,callback:function(t){e.$set(e.product,"space",t)},expression:"product.space"}})],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("span",[e._v("填充物")]),e._v(" "),a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.fillerSearch,placeholder:"请输入填充物"},model:{value:e.product.filler,callback:function(t){e.$set(e.product,"filler",t)},expression:"product.filler"}})],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("span",[e._v("单价")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入产品单价"},model:{value:e.product.price,callback:function(t){e.$set(e.product,"price",t)},expression:"product.price"}})],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("span",[e._v("库存")]),e._v(" "),a("el-input-number",{attrs:{min:1,label:"请输入产品库存"},model:{value:e.product.inventory,callback:function(t){e.$set(e.product,"inventory",t)},expression:"product.inventory"}})],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("span",[e._v("尺寸")]),e._v(" "),a("el-input",{attrs:{placeholder:"多个尺寸用空格分隔"},model:{value:e.product.size,callback:function(t){e.$set(e.product,"size",t)},expression:"product.size"}})],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("span",[e._v("颜色")]),e._v(" "),a("el-input",{attrs:{placeholder:"多个颜色用空格分隔"},model:{value:e.product.colour,callback:function(t){e.$set(e.product,"colour",t)},expression:"product.colour"}})],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("span",[e._v("类型")]),e._v(" "),a("el-input",{attrs:{placeholder:"多个类型用空格分隔"},model:{value:e.product.materialType,callback:function(t){e.$set(e.product,"materialType",t)},expression:"product.materialType"}})],1),e._v(" "),a("el-col",{attrs:{span:18}},[a("span",[e._v("介绍")]),e._v(" "),a("el-input",{staticStyle:{width:"87%","margin-left":"0.7%"},attrs:{type:"textarea",rows:2,placeholder:"请输入产品介绍"},model:{value:e.product.introduce,callback:function(t){e.$set(e.product,"introduce",t)},expression:"product.introduce"}})],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("span",[e._v("图片")]),e._v(" "),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"#",multiple:!0,"on-change":e.imageChange,"file-list":e.product.images,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"max",type:"primary"},on:{click:function(t){return e.openMessage("需与尺寸数量对应")}},slot:"trigger"},[e._v("选取文件"),a("i",{staticClass:"el-icon-upload el-icon--right"})])],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("span",[e._v("轮播图")]),e._v(" "),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"#",multiple:!0,"on-change":e.carouselImagesChange,"file-list":e.product.carouselImages,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"max",type:"warning"},on:{click:function(t){return e.openMessage("需与尺寸数量对应")}},slot:"trigger"},[e._v("选取文件"),a("i",{staticClass:"el-icon-upload el-icon--right"})])],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("span",[e._v("实物图")]),e._v(" "),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"#",multiple:!0,"on-change":e.physicalImagesChange,"file-list":e.product.physicalImages,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"max",type:"info"},on:{click:function(t){return e.openMessage("建议不超过5张")}},slot:"trigger"},[e._v("选取文件"),a("i",{staticClass:"el-icon-upload el-icon--right"})])],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("span",[e._v("详情图")]),e._v(" "),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"#",multiple:!0,"on-change":e.detailsImagesChange,"file-list":e.product.detailsImages,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"max",plain:"",type:"info"},on:{click:function(t){return e.openMessage("建议不超过10张")}},slot:"trigger"},[e._v("选取文件"),a("i",{staticClass:"el-icon-upload el-icon--right"})])],1)],1)],1)],1),e._v(" "),a("span",{staticStyle:{position:"fixed",bottom:"2%","margin-left":"18%",color:"#43b597","font-family":"Arial","font-size":"12px","letter-spacing":"2px"}},[e._v("Design and Implementation of a Furniture Store System Based on WeChat Mini Program.")])],1)},staticRenderFns:[]};var te=a("VU/8")(Z,ee,!1,function(e){a("GGDf")},"data-v-2ac9df14",null).exports,ae={name:"ProductInfo",data:function(){return{identifier:"",name:"",total:0,page:1,productId:[],productInfo:[],styleRes:[{text:"轻奢主义",value:"轻奢主义"},{text:"现代极简",value:"现代极简"},{text:"自然北欧",value:"自然北欧"},{text:"现代中式",value:"现代中式"},{text:"精品实木",value:"精品实木"},{text:"经典美式",value:"经典美式"},{text:"奢华欧法",value:"奢华欧法"},{text:"软装配饰",value:"软装配饰"},{text:"佗寂风/中古风",value:"佗寂风/中古风"},{text:"轻奢风",value:"轻奢风"}],categoryRes:[{text:"沙发",value:"沙发"},{text:"茶几",value:"茶几"},{text:"电视柜",value:"电视柜"},{text:"鞋柜",value:"鞋柜"},{text:"餐椅",value:"餐椅"},{text:"餐边柜",value:"餐边柜"},{text:"床",value:"床"},{text:"床头柜",value:"床头柜"},{text:"床垫",value:"床垫"},{text:"餐桌",value:"餐桌"},{text:"休闲椅",value:"休闲椅"}],spaceRes:[{text:"客厅",value:"客厅"},{text:"餐厅",value:"餐厅"},{text:"卧室",value:"卧室"},{text:"书房",value:"书房"},{text:"饰品",value:"饰品"},{text:"厨房",value:"厨房"},{text:"阳台",value:"阳台"}]}},mounted:function(){var e=this;return v()(p.a.mark(function t(){var a,r;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(a={}).filed=null,a.value=null,a.page=1,t.next=6,j(a);case 6:200==(r=t.sent).code&&(e.productInfo=r.data.productRecordBOS,e.total=r.data.total,e.page=r.data.page);case 8:case"end":return t.stop()}},t,e)}))()},methods:{queryProduct:function(){var e=this;return v()(p.a.mark(function t(){var a,r;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((r={}).filed=null,r.value=null,r.page=1,""!=e.identifier||""!=e.name){t.next=11;break}return Object(n.Message)({message:"当前为查询全部",type:"info",duration:2e3}),t.next=8,j(r);case 8:a=t.sent,t.next=26;break;case 11:if(""==e.identifier){t.next=20;break}return Object(n.Message)({message:"当前为编号查询",type:"info",duration:2e3}),r.filed="identifier",r.value=e.identifier,t.next=17,j(r);case 17:a=t.sent,t.next=26;break;case 20:return Object(n.Message)({message:"当前为名称查询",type:"info",duration:2e3}),r.filed="name",r.value=e.name,t.next=25,j(r);case 25:a=t.sent;case 26:200==a.code&&(e.productInfo=a.data.productRecordBOS,e.total=a.data.total,e.page=a.data.page);case 27:case"end":return t.stop()}},t,e)}))()},deleteProduct:function(){var e=this;return v()(p.a.mark(function t(){var a,r;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=e.productId.length){t.next=2;break}return t.abrupt("return",Object(n.Message)({message:"未勾选产品",type:"error",duration:2e3}));case 2:return t.next=4,T("/product/del",e.productId);case 4:if(200!=t.sent.code){t.next=15;break}return Object(n.Message)({message:"删除成功",type:"success",duration:2e3}),(a={}).filed=null,a.value=null,a.page=1,t.next=13,j(a);case 13:200==(r=t.sent).code&&(e.productInfo=r.data.productRecordBOS,e.total=r.data.total,e.page=r.data.page);case 15:case"end":return t.stop()}},t,e)}))()},prevInfo:function(e){var t=this;return v()(p.a.mark(function a(){var r,s;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if((s={}).filed=null,s.value=null,s.page=e,""!=t.identifier||""!=t.name){a.next=11;break}return Object(n.Message)({message:"当前为查询全部",type:"info",duration:2e3}),a.next=8,j(s);case 8:r=a.sent,a.next=26;break;case 11:if(""==t.identifier){a.next=20;break}return Object(n.Message)({message:"当前为编号查询",type:"info",duration:2e3}),s.filed="identifier",s.value=t.identifier,a.next=17,j(s);case 17:r=a.sent,a.next=26;break;case 20:return Object(n.Message)({message:"当前为名称查询",type:"info",duration:2e3}),s.filed="name",s.value=t.name,a.next=25,j(s);case 25:r=a.sent;case 26:200==r.code&&(t.productInfo=r.data.productRecordBOS,t.total=r.data.total,t.page=r.data.page);case 27:case"end":return a.stop()}},a,t)}))()},nextInfo:function(e){var t=this;return v()(p.a.mark(function a(){var r,s;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if((s={}).filed=null,s.value=null,s.page=e,""!=t.identifier||""!=t.name){a.next=11;break}return Object(n.Message)({message:"当前为查询全部",type:"info",duration:2e3}),a.next=8,j(s);case 8:r=a.sent,a.next=26;break;case 11:if(""==t.identifier){a.next=20;break}return Object(n.Message)({message:"当前为编号查询",type:"info",duration:2e3}),s.filed="identifier",s.value=t.identifier,a.next=17,j(s);case 17:r=a.sent,a.next=26;break;case 20:return Object(n.Message)({message:"当前为名称查询",type:"info",duration:2e3}),s.filed="name",s.value=t.name,a.next=25,j(s);case 25:r=a.sent;case 26:200==r.code&&(t.productInfo=r.data.productRecordBOS,t.total=r.data.total,t.page=r.data.page);case 27:case"end":return a.stop()}},a,t)}))()},updateProduct:function(e,t){var a=t[e].productId;this.$router.push({name:"add-product",query:{id:a}})},handleSelectionChange:function(e){var t=this;this.productId=[],e.forEach(function(e){t.productId.push(e.productId)})},styleResFilterHandler:function(e,t,a){return t[a.property]===e},categoryResFilterHandler:function(e,t,a){return t[a.property]===e},spaceResFilterHandler:function(e,t,a){return t[a.property]===e}}},re={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"productInfo"},[a("h4",[e._v("产品信息")]),e._v(" "),a("div",{staticClass:"screen"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:14}},[a("span",[e._v("编号")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"根据编号模糊查询",clearable:!0},model:{value:e.identifier,callback:function(t){e.identifier=t},expression:"identifier"}}),e._v(" "),a("span",{staticStyle:{"margin-left":"2%"}},[e._v("名称")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"根据名称模糊查询",clearable:!0},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.queryProduct()}}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(t){return e.deleteProduct()}}},[e._v("删除")])],1)],1)],1),e._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.productInfo,"max-height":"500"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"image",label:"图片",width:"160"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"60%"},attrs:{src:e.row.image}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"identifier",label:"编号",width:"170"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称","show-overflow-tooltip":!0,width:"170"}}),e._v(" "),a("el-table-column",{attrs:{prop:"category",label:"品类",filters:e.categoryRes,"filter-method":e.categoryResFilterHandler,"filter-placement":"bottom-end",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"space",label:"空间",filters:e.spaceRes,"filter-method":e.spaceResFilterHandler,"filter-placement":"bottom-end",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"style",label:"风格",filters:e.styleRes,"filter-method":e.styleResFilterHandler,"filter-placement":"bottom-end",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"价格",sortable:"",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.price)+"元\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"sold",label:"已售",sortable:"",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.sold)+"件\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"inventory",label:"库存",sortable:"",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.inventory)+"件\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"materialQuality",label:"材质",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"filler",label:"填充物",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"heat",label:"热度",sortable:"",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"score",label:"综合得分",sortable:"",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.score)+"分\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"creationTime",label:"创建日期",sortable:"","show-overflow-tooltip":!0,width:"115"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.updateProduct(t.$index,e.productInfo)}}},[e._v("编辑")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{layout:"prev, pager, next",total:e.total},on:{"prev-click":e.prevInfo,"next-click":e.nextInfo}})],1),e._v(" "),a("span",{staticStyle:{position:"fixed",bottom:"2%","margin-left":"18%",color:"#43b597","font-family":"Arial","font-size":"12px","letter-spacing":"2px"}},[e._v("Design and Implementation of a Furniture Store System Based on WeChat Mini Program.")])])},staticRenderFns:[]};var ne=a("VU/8")(ae,re,!1,function(e){a("Wj1F")},"data-v-6e737502",null).exports,se={name:"Order",data:function(){return{orderId:"",state:"",orderIds:[],total:1,orderInfo:[],orderState:[{label:"已确定",value:2},{label:"已发货",value:3},{label:"已完成",value:4}]}},mounted:function(){var e=this;return v()(p.a.mark(function t(){var a,r;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(a={}).filed=null,a.value=null,a.page=1,t.next=6,R(a);case 6:200==(r=t.sent).code&&(e.orderInfo=r.data.orderInfoBOS,e.total=r.data.total,e.page=r.data.page);case 8:case"end":return t.stop()}},t,e)}))()},methods:{queryOrderInfo:function(){var e=this;return v()(p.a.mark(function t(){var a,r;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(a={}).filed=null,a.value=null,a.page=1,""!=e.orderId?(Object(n.Message)({message:"根据订单号查询",type:"info",duration:2e3}),a.filed="_id",a.value=e.orderId):Object(n.Message)({message:"查询全部",type:"info",duration:2e3}),t.next=7,R(a);case 7:200==(r=t.sent).code&&(e.orderInfo=r.data.orderInfoBOS,e.total=r.data.total,e.page=r.data.page);case 9:case"end":return t.stop()}},t,e)}))()},updateOrderState:function(){var e=this;return v()(p.a.mark(function t(){var a,r,s;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=e.orderIds.length){t.next=2;break}return t.abrupt("return",Object(n.Message)({message:"未选择订单",type:"error",duration:2e3}));case 2:if(""!=e.state){t.next=4;break}return t.abrupt("return",Object(n.Message)({message:"未选择状态",type:"error",duration:2e3}));case 4:return(a={}).orderIds=e.orderIds,a.state=e.state,t.next=9,U(a);case 9:if(200!=t.sent.code){t.next=22;break}return Object(n.Message)({message:"修改成功",type:"success",duration:2e3}),(r={}).filed=null,r.value=null,r.page=1,t.next=18,R(r);case 18:200==(s=t.sent).code&&(e.orderInfo=s.data.orderInfoBOS,e.total=s.data.total,e.page=s.data.page),t.next=23;break;case 22:Object(n.Message)({message:"修改失败",type:"error",duration:2e3});case 23:case"end":return t.stop()}},t,e)}))()},prevInfo:function(e){console.log(e)},nextInfo:function(e){console.log(e)},handleSelectionChange:function(e){var t=this;this.orderIds=[],e.forEach(function(e){t.orderIds.push(e.orderId)})},filterTag:function(e,t){return t.state===e},tagType:function(e){return 4==e?"success":1==e?"primary":2==e?"info":3==e?"warning":"danger"},tagText:function(e){return 4==e?"已完成":1==e?"已下单":2==e?"已确认":3==e?"已发货":"售后中"}}},oe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"order"},[a("h4",[e._v("订单信息")]),e._v(" "),a("div",{staticClass:"screen"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:14}},[a("span",[e._v("订单号")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"根据订单号模糊查询",clearable:!0},model:{value:e.orderId,callback:function(t){e.orderId=t},expression:"orderId"}}),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.queryOrderInfo()}}},[e._v("查询")]),e._v(" "),a("span",{staticStyle:{"margin-left":"2%"}},[e._v("状态")]),e._v(" "),a("el-select",{attrs:{size:"small",placeholder:"请选择状态"},model:{value:e.state,callback:function(t){e.state=t},expression:"state"}},e._l(e.orderState,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),a("el-button",{attrs:{size:"small",type:"warning"},on:{click:function(t){return e.updateOrderState()}}},[e._v("修改")])],1)],1)],1),e._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.orderInfo,"max-height":"500"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"image",label:"图片",width:"150"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"60%"},attrs:{src:e.row.image}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"日期",sortable:"","show-overflow-tooltip":!0,width:"115"}}),e._v(" "),a("el-table-column",{attrs:{prop:"nickname",label:"姓名",width:"70"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"联系电话",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"productName",label:"产品名称","show-overflow-tooltip":!0,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"productSize",label:"产品尺寸","show-overflow-tooltip":!0,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"productColour",label:"产品颜色",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"materialType",label:"产品材质","show-overflow-tooltip":!0,width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"单价",sortable:"",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.price)+"元\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"quantity",label:"数量",sortable:"",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.quantity)+"件\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"总价",sortable:"",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.price*t.row.quantity)+"元\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"state",label:"状态",width:"80",fixed:"right",filters:[{text:"已下单",value:1},{text:"已确定",value:2},{text:"已发货",value:3},{text:"已完成",value:4},{text:"售后中",value:-1}],"filter-method":e.filterTag,"filter-placement":"bottom-end"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:e.tagType(t.row.state),"disable-transitions":""}},[e._v(e._s(e.tagText(t.row.state)))])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{layout:"prev, pager, next",total:e.total},on:{"prev-click":e.prevInfo,"next-click":e.nextInfo}})],1),e._v(" "),a("span",{staticStyle:{position:"fixed",bottom:"2%","margin-left":"18%",color:"#43b597","font-family":"Arial","font-size":"12px","letter-spacing":"2px"}},[e._v("Design and Implementation of a Furniture Store System Based on WeChat Mini Program.")])])},staticRenderFns:[]};var le=a("VU/8")(se,oe,!1,function(e){a("teW9")},"data-v-5cacd7bc",null).exports,ie={name:"User",data:function(){return{phone:"",nickname:"",userIds:[],addAdminUser:{account:"",password:"",phone:""},isAdmin:!0,switchUser:!1,dialogVisible:!1,userInfo:[],adminInfo:[]}},mounted:function(){var e=this;return v()(p.a.mark(function t(){var a,r;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={},t.next=3,F(0,a);case 3:200===(r=t.sent).code&&r.data.forEach(function(t){1===t.sysType?e.adminInfo=t.userInfoBOS:e.userInfo=t.userInfoBOS});case 5:case"end":return t.stop()}},t,e)}))()},methods:{queryUserInfo:function(){var e=this;return v()(p.a.mark(function t(){var a,r,s,o;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=void 0,""!=e.nickname||""!=e.phone){t.next=9;break}return Object(n.Message)({message:"当前为查询全部",type:"info",duration:2e3}),r={},t.next=6,F(0,r);case 6:a=t.sent,t.next=26;break;case 9:if(""==e.nickname){t.next=19;break}return Object(n.Message)({message:"当前为用户昵称查询",type:"info",duration:2e3}),(s={}).filed=e.switchUser?"account":"nickname",s.value=e.nickname,t.next=16,F(e.switchUser?1:2,s);case 16:a=t.sent,t.next=26;break;case 19:return Object(n.Message)({message:"当前为用户手机号查询",type:"info",duration:2e3}),(o={}).filed="phone",o.value=e.phone,t.next=25,F(e.switchUser?1:2,o);case 25:a=t.sent;case 26:200===a.code?a.data.forEach(function(t){1===t.sysType?e.adminInfo=t.userInfoBOS:e.userInfo=t.userInfoBOS}):Object(n.Message)({message:a.msg,type:"error",duration:2e3});case 27:case"end":return t.stop()}},t,e)}))()},deleteUser:function(){var e=this;return v()(p.a.mark(function t(){var a,r,s;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.switchUser){t.next=2;break}return t.abrupt("return",Object(n.Message)({message:"不可删除顾客信息",type:"error",duration:2e3}));case 2:if(0!=e.userIds.length){t.next=4;break}return t.abrupt("return",Object(n.Message)({message:"未选择用户",type:"error",duration:2e3}));case 4:return t.next=6,T("/del-user",e.userIds);case 6:if(200===(a=t.sent).code){t.next=9;break}return t.abrupt("return",Object(n.Message)({message:a.msg,type:"error",duration:2e3}));case 9:return Object(n.Message)({message:"删除成功",type:"success",duration:2e3}),r={},t.next=13,F(0,r);case 13:200===(s=t.sent).code&&s.data.forEach(function(t){1===t.sysType?e.adminInfo=t.userInfoBOS:e.userInfo=t.userInfoBOS});case 15:case"end":return t.stop()}},t,e)}))()},disableUser:function(e,t){var a=this;return v()(p.a.mark(function r(){var s,o,l;return p.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,O("/user/state",[e,t,a.switchUser]);case 2:if(200===(s=r.sent).code){r.next=5;break}return r.abrupt("return",Object(n.Message)({message:s.msg,type:"error",duration:2e3}));case 5:return Object(n.Message)({message:"修改成功",type:"success",duration:2e3}),o={},r.next=9,F(0,o);case 9:200===(l=r.sent).code&&l.data.forEach(function(e){1===e.sysType?a.adminInfo=e.userInfoBOS:a.userInfo=e.userInfoBOS});case 11:case"end":return r.stop()}},r,a)}))()},addAdminUseInfo:function(){var e=this;return v()(p.a.mark(function t(){var a,r,s;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=e.addAdminUser.account&&""!=e.addAdminUser.password&&""!=e.addAdminUser.phone){t.next=2;break}return t.abrupt("return",Object(n.Message)({message:"输入信息错误或缺失",type:"error",duration:2e3}));case 2:return t.next=4,T("/user",e.addAdminUser);case 4:if(200===(a=t.sent).code){t.next=7;break}return t.abrupt("return",Object(n.Message)({message:a.msg,type:"error",duration:2e3}));case 7:return Object(n.Message)({message:"添加成功",type:"success",duration:2e3}),e.dialogVisible=!1,r={},t.next=12,F(0,r);case 12:200===(s=t.sent).code&&s.data.forEach(function(t){1===t.sysType?e.adminInfo=t.userInfoBOS:e.userInfo=t.userInfoBOS});case 14:case"end":return t.stop()}},t,e)}))()},handleSelectionChange:function(e){var t=this;this.userIds=[],e.forEach(function(e){t.userIds.push(e.userId)})},filterTag:function(e,t){return t.state===e}}},ce={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user"},[a("h4",[e._v("用户信息")]),e._v(" "),a("div",{staticClass:"screen"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:14}},[a("span",[e._v("用户名")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"根据用户名模糊查询顾客信息",clearable:!0},model:{value:e.nickname,callback:function(t){e.nickname=t},expression:"nickname"}}),e._v(" "),a("span",{staticStyle:{"margin-left":"2%"}},[e._v("手机号")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"根据手机号模糊查询顾客信息",clearable:!0},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.queryUserInfo()}}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"0.3%"},attrs:{gutter:70}},[e.isAdmin?a("el-col",{attrs:{span:1}},[a("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(t){e.dialogVisible=!0}}},[e._v("新增")])],1):e._e(),e._v(" "),a("el-col",{attrs:{span:1}},[a("el-button",{attrs:{type:"danger",size:"mini",plain:""},on:{click:function(t){return e.deleteUser()}}},[e._v("删除")])],1),e._v(" "),e.isAdmin?a("el-col",{attrs:{span:10}},[a("el-switch",{staticStyle:{display:"block","margin-top":"1%"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"管理用户信息","inactive-text":"顾客信息"},model:{value:e.switchUser,callback:function(t){e.switchUser=t},expression:"switchUser"}})],1):e._e()],1),e._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.switchUser?e.adminInfo:e.userInfo,"max-height":"500"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:e.switchUser?"账号":"昵称",width:"200"}}),e._v(" "),e.switchUser?a("el-table-column",{attrs:{prop:"role",label:"角色",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(0==t.row.role?"普通用户":"超级管理员")+"\n        ")]}}],null,!1,2277538922)}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"state",label:"状态",width:"180",filters:[{text:"正常",value:!0},{text:"异常",value:!1}],"filter-method":e.filterTag,"filter-placement":"bottom-end"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:t.row.state?"success":"danger","disable-transitions":""}},[e._v(e._s(t.row.state?"正常":"异常"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建日期",sortable:"",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[1!=t.row.role?a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(a){return e.disableUser(t.row.userId,t.row.state)}},model:{value:t.row.state,callback:function(a){e.$set(t.row,"state",a)},expression:"scope.row.state"}}):e._e()]}}])})],1)],1),e._v(" "),a("el-dialog",{attrs:{"append-to-body":!0,title:"新增管理用户",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-row",[a("el-col",{attrs:{span:3}},[e._v("账号")]),e._v(" "),a("el-col",{staticStyle:{display:"flex"},attrs:{span:21}},[a("el-input",{attrs:{size:"small",placeholder:"请输入账号",clearable:!0},model:{value:e.addAdminUser.account,callback:function(t){e.$set(e.addAdminUser,"account",t)},expression:"addAdminUser.account"}})],1),e._v(" "),a("el-col",{staticStyle:{"margin-top":"1%"},attrs:{span:3}},[e._v("密码")]),e._v(" "),a("el-col",{staticStyle:{"margin-top":"1%"},attrs:{span:21}},[a("el-input",{attrs:{size:"small",placeholder:"请输入密码",clearable:!0},model:{value:e.addAdminUser.password,callback:function(t){e.$set(e.addAdminUser,"password",t)},expression:"addAdminUser.password"}})],1),e._v(" "),a("el-col",{staticStyle:{"margin-top":"1%"},attrs:{span:3}},[e._v("手机号")]),e._v(" "),a("el-col",{staticStyle:{"margin-top":"1%"},attrs:{span:21}},[a("el-input",{attrs:{size:"small",placeholder:"请输入手机号",clearable:!0},model:{value:e.addAdminUser.phone,callback:function(t){e.$set(e.addAdminUser,"phone",t)},expression:"addAdminUser.phone"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.addAdminUseInfo()}}},[e._v("确 定")])],1)],1),e._v(" "),a("span",{staticStyle:{position:"fixed",bottom:"2%","margin-left":"18%",color:"#43b597","font-family":"Arial","font-size":"12px","letter-spacing":"2px"}},[e._v("Design and Implementation of a Furniture Store System Based on WeChat Mini Program.")])],1)},staticRenderFns:[]};var ue=a("VU/8")(ie,ce,!1,function(e){a("mGbe")},"data-v-73ef3e60",null).exports,de={name:"RuleData",data:function(){return{accessToken:"",refreshToken:"",info:{title:"",category:"",showType:""},categoryRes:[{value:"沙发"},{value:"茶几"},{value:"电视柜"},{value:"鞋柜"},{value:"餐椅"},{value:"餐边柜"},{value:"床"},{value:"床头柜"},{value:"床垫"},{value:"餐桌"},{value:"休闲椅"}],indexData:[]}},mounted:function(){var e=this;return v()(p.a.mark(function t(){var a;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A();case 2:200==(a=t.sent).code&&(e.indexData=a.data);case 4:case"end":return t.stop()}},t,e)}))()},methods:{saveToken:function(){var e=this;return v()(p.a.mark(function t(){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=e.accessToken&&""!=e.refreshToken){t.next=2;break}return t.abrupt("return",Object(n.Message)({message:"输入信息错误或缺失",type:"error",duration:2e3}));case 2:return t.next=4,$([e.accessToken,e.refreshToken]);case 4:if(200!=t.sent.code){t.next=8;break}return e.accessToken=e.refreshToken="",t.abrupt("return",Object(n.Message)({message:"保存成功",type:"success",duration:2e3}));case 8:Object(n.Message)({message:"保存失败",type:"error",duration:2e3});case 9:case"end":return t.stop()}},t,e)}))()},saveInfo:function(){var e=this;return v()(p.a.mark(function t(){var a;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(e.info.showType),console.log(e.info.title),console.log(e.info.category),""!=e.info.title&&""!=e.info.category&&""!==e.info.showType){t.next=5;break}return t.abrupt("return",Object(n.Message)({message:"输入信息错误或缺失",type:"error",duration:2e3}));case 5:return e.indexData.push(e.info),t.next=8,H(e.indexData);case 8:if(200!=t.sent.code){t.next=15;break}return t.next=12,A();case 12:return 200==(a=t.sent).code&&(e.indexData=a.data),t.abrupt("return",Object(n.Message)({message:"添加成功",type:"success",duration:2e3}));case 15:Object(n.Message)({message:"添加失败",type:"error",duration:2e3});case 16:case"end":return t.stop()}},t,e)}))()},handleDelete:function(e,t){var a=this;return v()(p.a.mark(function e(){var r,s;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.indexData.filter(function(e){return e!==t}),e.next=3,H(r);case 3:if(200!=e.sent.code){e.next=10;break}return e.next=7,A();case 7:return 200==(s=e.sent).code&&(a.indexData=s.data),e.abrupt("return",Object(n.Message)({message:"删除成功",type:"success",duration:2e3}));case 10:Object(n.Message)({message:"删除失败",type:"error",duration:2e3});case 11:case"end":return e.stop()}},e,a)}))()},filterTag:function(e,t){return t.showType===e},categorySearch:function(e,t){var a=this.categoryRes;t(e?a.filter(this.createFilter(e)):a)}}},pe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"rule"},[a("h4",[e._v("参数设置")]),e._v(" "),a("div",{staticClass:"screen"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:24}},[a("span",[e._v("accessToken")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入accessToken过期时间"},model:{value:e.accessToken,callback:function(t){e.accessToken=t},expression:"accessToken"}}),e._v(" "),a("span",{staticStyle:{"margin-left":"2%"}},[e._v("refreshToken")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入refreshToken过期时间"},model:{value:e.refreshToken,callback:function(t){e.refreshToken=t},expression:"refreshToken"}}),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.saveToken()}}},[e._v("保存")])],1)],1)],1),e._v(" "),a("h4",[e._v("小程序主页数据列表")]),e._v(" "),a("div",{staticClass:"screen"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:19}},[a("span",[e._v("标题")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入标题",clearable:!0},model:{value:e.info.title,callback:function(t){e.$set(e.info,"title",t)},expression:"info.title"}}),e._v(" "),a("span",{staticStyle:{"margin-left":"2%"}},[e._v("品类")]),e._v(" "),a("el-autocomplete",{staticClass:"inline-input",staticStyle:{"margin-left":"1%","margin-top":"-0.2%"},attrs:{size:"small","fetch-suggestions":e.categorySearch,placeholder:"请选择产品品类",clearable:!0},model:{value:e.info.category,callback:function(t){e.$set(e.info,"category",t)},expression:"info.category"}}),e._v(" "),a("span",{staticStyle:{"margin-left":"2%"}},[e._v("排序")]),e._v(" "),a("el-select",{attrs:{size:"small",placeholder:"请选择排序方式"},model:{value:e.info.showType,callback:function(t){e.$set(e.info,"showType",t)},expression:"info.showType"}},e._l([{label:"热度",value:!0},{label:"时间",value:!1}],function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),a("el-button",{attrs:{size:"small",type:"success"},on:{click:function(t){return e.saveInfo()}}},[e._v("添加")])],1)],1)],1),e._v(" "),a("div",{staticClass:"data"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.indexData,"max-height":"500"}},[a("el-table-column",{attrs:{prop:"title",label:"标题",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"category",label:"品类",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"showType",label:"排序方式",width:"200",filters:[{text:"热度",value:!0},{text:"时间",value:!1}],"filter-method":e.filterTag,"filter-placement":"bottom-end"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:t.row.showType?"success":"warning","disable-transitions":""}},[e._v(e._s(t.row.showType?"热度":"时间"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("span",{staticStyle:{position:"fixed",bottom:"2%","margin-left":"18%",color:"#43b597","font-family":"Arial","font-size":"12px","letter-spacing":"2px"}},[e._v("Design and Implementation of a Furniture Store System Based on WeChat Mini Program.")])])},staticRenderFns:[]};var fe=a("VU/8")(de,pe,!1,function(e){a("dRxD")},"data-v-6ee04eed",null).exports;r.default.use(u.a);var ve=new u.a({routes:[{path:"/",name:"login",component:B},{path:"/login",name:"login",component:B},{path:"/home",name:"home",component:L,children:[{path:"/home/home-page",name:"home-page",component:J},{path:"/home/add-product",name:"add-product",component:te},{path:"/home/product-info",name:"product-info",component:ne},{path:"/home/order",name:"order",component:le},{path:"/home/user",name:"user",component:ue},{path:"/home/rule-data",name:"rule-data",component:fe}],redirect:"/home/home-page"}]});r.default.use(s.a).use(l),r.default.config.productionTip=!1,new r.default({el:"#app",router:ve,components:{App:c},template:"<App/>"})},Ren6:function(e,t){},Wj1F:function(e,t){},"Wtd/":function(e,t){},dRxD:function(e,t){},irb8:function(e,t){},mGbe:function(e,t){},mbp1:function(e,t){},teW9:function(e,t){},tvR6:function(e,t){},zss9:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.77f866bf7f5be7c0a105.js.map